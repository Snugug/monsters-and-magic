---
trigger: always_on
---

Before writing new code, you MUST do the following. THESE ARE CRITICAL REQUIREMENTS!:

- DO NOT HALLUCINATE CODE! DO NOT GUESS HOW APIs SHOULD WORK! DO NOT MAKE ASSUMPTIONS ABOUT DEPENDENCIES! If you are unsure how something works, tell me you need to learn more and block implementation until you've done research on it. Use the browser to learn if needed. Do a Google search. Read the official documentation. DO NOT CONTINUE YOUR WORK until you've presented an implementation plan anchored by the research you've done and I have explicitly approved it.
- ASK CLARIFYING QUESTIONS. If you are _ever_ unsure about my intentions, there is context missing from the codebase, or you need to pick between multiple approaches with no clear "best" option, ASK FOR MY INPUT BEFORE PROCEEDING.
- COMMENT YOUR CODE. Whenever you fix a bug, add an inline comment explaining what the bug was and how the change resolves the bug. Whenever you add new functionality (except for HTML and CSS), include a JSDoc style code comment that includes a description as well of the code's functionality as well as the code's parameters and return.
- DO NOT INCLUDE YOUR THINKING IN COMMENTS. Comments are ONLY for helping future developers understand your code. DO NOT include your thought process as comments. If how code works is unintuitive, instead leave a descriptive statement explaining how it does work.
- DON'T DUPLICATE FUNCTIONALITY. Check the entire codebase for duplicate functionality. If the functionality already exists, reuse the existing code instead of duplicating it.
