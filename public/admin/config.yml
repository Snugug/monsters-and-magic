# Backend configuration for the CMS. Any backend will also support working with your repository locally by choosing it at the login screen.
backend:
  # The backend to use
  name: github
  # The branch to commit to. Cannot be protected
  branch: main
  # The repository from your backend to work from
  repo: snugug/monsters-and-magic
  # The domain your site is hosted on, without protocol
  site_domain: magicmonster.fun
  # The full base URL of your site, including protocol and subpath
  base_url: https://magicmonster.fun
  # The OAuth route to use for authentication. GitHub requires a backend server, or you can authenticate with a Personal Access Token directly in browser
  auth_endpoint: oauth

# The source URL to store CMS uploaded media
media_folder: public/media
# The folder where media will be served from. If your site is served from a subpath, it must be included here.
public_folder: /media

# Content collections
collections:
  - label: Lineages
    name: lineage
    folder: src/content/lineage
    create: true
    fields:
      - label: Title
        name: title
        widget: string
      - label: Description
        name: body
        widget: markdown
      - label: Size
        name: size
        widget: select
        multiple: true
        options:
          - label: Small
            value: small
          - label: Medium
            value: medium
      - label: Traits
        name: traits
        widget: list
        fields:
          - label: Title
            name: title
          - label: Points
            name: points
            widget: number
            value_type: int
            default: 1
            min: 1
            max: 3
          - label: Description
            name: description
            widget: markdown

  - label: Heritages
    name: heritage
    folder: src/content/heritage
    create: true
    fields:
      - label: Title
        name: title
      - label: Requirements
        name: requirements
        required: false
      - label: Description
        name: body
        widget: markdown
  - label: Classes
    name: classes
    folder: src/content/classes
    create: true
    fields:
      - label: Title
        name: title
      - label: Description
        name: body
        widget: markdown
      - label: Proficiencies
        name: proficiencies
        widget: object
        fields:
          - label: Weapons
            name: weapons
            required: false
          - label: Armor
            name: armor
            required: false
          - label: Techniques
            name: techniques
            widget: number
            value_type: int
            default: 0
      - label: hp
        name: hp
        widget: number
        value_type: int
        default: 25
      - label: Feats
        name: feats
        widget: list
        fields:
          - label: Title
            name: title
          - label: Core
            name: core
            widget: boolean
            required: false
          - label: Spellcasting
            name: spellcasting
            widget: boolean
            required: false
          - label: Rare
            name: rare
            widget: boolean
            required: false
          - label: Description
            name: description
            widget: markdown
  - label: Techniques
    name: technique
    folder: src/content/techniques
    create: true
    fields:
      - label: Title
        name: title
        widget: string
      - label: Type
        name: type
        widget: select
        default: advanced
        options:
          - label: Basic
            value: basic
          - label: Advanced
            value: advanced
          - label: Rare
            value: rare
          - label: Feat
            value: feat
      - label: AP
        name: ap
        widget: number
        value_type: int
        min: 1
        required: false
      - label: Reaction
        name: reaction
        widget: string
        required: false
      - label: Duration
        name: duration
        widget: string
        required: false
      - label: Body
        name: body
        widget: markdown
  - label: Cantrips
    name: cantrips
    folder: src/content/cantrips
    create: true
    fields:
      - label: Title
        name: title
      - label: Description
        name: body
        widget: text
      - label: Spell List
        name: list
        widget: select
        multiple: true
        options:
          - label: Arcane
            value: arcane
          - label: Primal
            value: primal
          - label: Divine
            value: divine
          - label: Psionic
            value: psionic
      - label: Element Type
        name: type
        widget: select
        required: false
        options:
          - label: Fire
            value: fire
          - label: Cold
            value: cold
          - label: Force
            value: force
          - label: Lightning
            value: lightning
          - label: Poison
            value: poison
          - label: Acid
            value: acid
          - label: Radiant
            value: radiant
          - label: Necrotic
            value: necrotic
          - label: Physical
            value: physical
          - label: Fatigue
            value: fatigue
      - label: Save
        name: save
        widget: select
        required: false
        options:
          - label: Focus
            value: focus
          - label: Power
            value: power
          - label: Cunning
            value: cunning
      - label: Upcast
        name: upcast
        widget: text
  - label: Charms
    name: charms
    folder: src/content/charms
    create: true
    fields:
      - label: Title
        name: title
      - label: Spells
        name: spells
        widget: relation
        collection: cantrips
        value_field: '{{slug}}'
        multiple: true
        display_fields:
          - title
        search_fields:
          - title
      - label: AP
        name: ap
        widget: number
        value_type: int
        min: 1
        required: false
      - label: Reaction
        name: reaction
        required: false
      - label: Duration
        name: duration
        required: false
      - label: Fatigue
        name: fatigue
        widget: number
        value_type: int
        min: 1
        required: false
      - label: Concentration
        name: concentration
        widget: boolean
        required: false
      - label: Rare
        name: rare
        widget: boolean
        required: false
      - label: Tags
        name: tags
        widget: select
        multiple: true
        options:
          - label: Targeting
            value: targeting
          - label: Effect
            value: effect
          - label: Metamagic
            value: metamagic
      - label: Description
        name: body
        widget: markdown

  - label: Weapons
    name: weapons
    folder: src/content/weapons
    create: true
    fields:
      - label: Title
        name: title
      - label: Primary Weapon
        name: primary
        widget: boolean
        default: true
        required: false
      - label: Secondary Weapon
        name: secondary
        widget: boolean
        default: false
        required: false
      - label: Damage
        name: damage
      - label: Range
        name: range
        widget: number
        value_type: int
      - label: Properties
        name: properties
        widget: select
        required: false
        multiple: true
        options:
          - label: Agile
            value: agile
          - label: Heavy
            value: heavy
          - label: Precise
            value: precise
          - label: Reload
            value: reload
          - label: Two-Handed
            value: two-handed
          - label: Thrown
            value: thrown
          - label: Versatile
            value: versatile
          - label: Simple
            value: simple
          - label: Piercing
            value: piercing
          - label: Reach
            value: reach
      - label: Mastery
        name: mastery
        widget: select
        options:
          - label: Nick
            value: nick
          - label: Graze
            value: graze
          - label: Ring
            value: ring
          - label: Cleave
            value: cleave
          - label: Sap
            value: sap
          - label: Pinpoint
            value: pinpoint
      - label: Cost
        name: cost
        widget: number
        value_type: int
      - label: Weight
        name: weight
        widget: number
        value_type: float
        step: .1
        min: 0
      - label: Crafting
        name: crafting
        widget: object
        fields:
          - label: Textile
            name: textile
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Wood
            name: wood
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Metal
            name: metal
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Stone
            name: stone
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Elementalis
            name: elementalis
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Mithril
            name: mithril
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Fadeite
            name: fadeite
            widget: number
            value_type: int
            min: 0
            default: 0

  - label: Foci
    name: foci
    folder: src/content/foci
    create: true
    fields:
      - label: Title
        name: title
      - label: Properties
        name: properties
        widget: select
        multiple: true
        options:
          - label: Assail
            value: assail
          - label: Extend
            value: extend
          - label: Empower
            value: empower
          - label: Two-Handed
            value: two-handed
          - label: Versatile
            value: versatile
      - label: Cost
        name: cost
        widget: number
        value_type: int
      - label: Weight
        name: weight
        widget: number
        value_type: float
        step: .1
        min: 0
      - label: Crafting
        name: crafting
        widget: object
        fields:
          - label: Textile
            name: textile
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Wood
            name: wood
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Metal
            name: metal
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Stone
            name: stone
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Elementalis
            name: elementalis
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Mithril
            name: mithril
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Fadeite
            name: fadeite
            widget: number
            value_type: int
            min: 0
            default: 0

  - label: Armor
    name: armor
    folder: src/content/armor
    create: true
    fields:
      - label: Title
        name: title
      - label: AC
        name: ac
        widget: number
        value_type: int
        min: 0
        default: 0
      - label: Type
        name: type
        widget: select
        options:
          - label: Light
            value: light
          - label: Medium
            value: medium
          - label: Heavy
            value: heavy
          - label: Shield
            value: shield
      - label: Power
        name: power
        widget: number
        value_type: int
        min: 0
        default: 0
      - label: Cost
        name: cost
        widget: number
        value_type: int
      - label: Weight
        name: weight
        widget: number
        value_type: float
        step: .1
        min: 0
      - label: Crafting
        name: crafting
        widget: object
        fields:
          - label: Textile
            name: textile
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Wood
            name: wood
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Metal
            name: metal
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Stone
            name: stone
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Elementalis
            name: elementalis
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Mithril
            name: mithril
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Fadeite
            name: fadeite
            widget: number
            value_type: int
            min: 0
            default: 0

  - label: Gear
    name: gear
    folder: src/content/gear
    create: true
    fields:
      - label: Title
        name: title
      - label: Description
        name: body
        widget: text
      - label: Tool
        name: tool
        widget: boolean
        required: false
      - label: Instrument
        name: instrument
        widget: boolean
        required: false
      - label: Consumable
        name: consumable
        widget: boolean
        required: false
      - label: Count
        name: count
        widget: number
        value_type: int
        min: 1
        default: 1
      - label: Cost
        name: cost
        widget: number
        value_type: int
      - label: Weight
        name: weight
        widget: number
        value_type: float
        step: .1
        min: -5
      - label: Crafting
        name: crafting
        widget: object
        fields:
          - label: Textile
            name: textile
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Wood
            name: wood
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Metal
            name: metal
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Stone
            name: stone
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Elementalis
            name: elementalis
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Mithril
            name: mithril
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Fadeite
            name: fadeite
            widget: number
            value_type: int
            min: 0
            default: 0

  - label: Packs
    name: packs
    folder: src/content/packs
    create: true
    fields:
      - label: Title
        name: title
      - label: Description
        name: body
        widget: text
      - label: Cost
        name: cost
        widget: number
        value_type: int
      - label: Contents
        name: contents
        widget: list
        fields:
          - label: Item
            name: item
            widget: relation
            collection: gear
            value_field: '{{slug}}'
            display_fields:
              - '{{title}} - {{count}}'
          - label: Count
            name: count
            widget: number
            value_type: int
            min: 0
            default: 1

  - label: Runes & Seals
    name: modifications
    folder: src/content/modifications
    create: true
    fields:
      - label: Title
        name: title
      - label: Type
        name: type
        widget: select
        options:
          - label: Rune
            value: rune
          - label: Seal
            value: seal
      - label: Rare
        name: rare
        widget: boolean
        required: false
      - label: Weapon
        name: weapon
        widget: text
        required: false
      - label: Armor
        name: armor
        widget: text
        required: false
      - label: Focus
        name: focus
        widget: text
        required: false
      - label: Crafting
        name: crafting
        widget: object
        fields:
          - label: Textile
            name: textile
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Wood
            name: wood
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Metal
            name: metal
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Stone
            name: stone
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Elementalis
            name: elementalis
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Mithril
            name: mithril
            widget: number
            value_type: int
            min: 0
            default: 0
          - label: Fadeite
            name: fadeite
            widget: number
            value_type: int
            min: 0
            default: 0

  - label: Downtime Activities
    name: activities
    folder: src/content/activities
    create: true
    fields:
      - label: Title
        name: title
      - label: Availability
        name: taken
        widget: select
        multiple: true
        options:
          - label: Short Rest
            value: short rest
          - label: Long Rest
            value: long rest
          - label: Extended Rest
            value: extended rest
      - label: description
        name: body
        widget: markdown

  - label: Standalone Page
    name: standalone
    folder: src/content/standalone
    create: true
    fields:
      - label: Title
        name: title
        widget: string
        required: true
      - label: Body
        name: body
        widget: markdown
        required: true
  - label: Glossary Term
    name: glossary
    folder: src/content/glossary
    create: true
    fields:
      - label: Title
        name: title
        widget: string
      - label: Type
        name: type
        widget: select
        required: false
        multiple: true
        options:
          - Condition
          - Status
          - Weapon Mastery
          - Armor Mastery
          - Weapon Property
          - Armor Property
          - Damage Type
      - label: Body
        name: body
        widget: markdown
  - label: Monster
    name: monster
    folder: src/content/monster
    create: true
    fields:
      - label: Title
        name: title
      - label: Description
        name: body
      - label: Size
        name: size
        widget: select
        options:
          - tiny
          - small
          - medium
          - large
          - huge
          - gargantuan
      - label: Offense
        size: offense
        widget: object
        fields:
          - label: Vicious
            name: vicious
            widget: number
            value_type: int
            default: 0
          - label: Timid
            name: timid
            widget: number
            value_type: int
            default: 0
          - label: Specialized
            name: specialized
            widget: number
            value_type: int
            default: 0
          - label: Savage
            name: savage
            widget: number
            value_type: int
            default: 0
          - label: Strong
            name: strong
            widget: number
            value_type: int
            default: 0
          - label: Weak
            name: weak
            widget: number
            value_type: int
            default: 0
